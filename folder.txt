#ifndef FOLDERSHOW_H
#define FOLDERSHOW_H
#include <QWidget>
#include <QGridLayout>
#include <QHBoxLayout>
#include <QVBoxLayout>
#include <QPushButton>
#include <QTextEdit>
#include <QLineEdit>
#include <QLabel>
#include <QListWidget>
#include <QString>
#include <QFileDialog>
#include <QTableWidget>
#include <QDebug>

class FolderShow :public QWidget
{
    Q_OBJECT
public:
    FolderShow();
   ~FolderShow();
    
    void on_button_open();
    void on_button_dl();
private:
    QPushButton  * m_button_open,*m_button_dl;
    QTableWidget * m_tablewidget;
    QGridLayout  * m_gridlay;
};

FolderShow::FolderShow()
{
    m_button_open = new QPushButton(QString::fromLocal8Bit("打开文件夹"),this);
    m_button_dl   = new QPushButton(QString::fromLocal8Bit("下载选中项"),this);

    m_tablewidget = new QTableWidget(this);

    m_tablewidget->setColumnCount(2);   //设置列数为5
    m_tablewidget->setRowCount(20);     //设置行数为10
    QStringList header;
    header<<QString::fromLocal8Bit("文件名")<<QString::fromLocal8Bit("文件类型");
    m_tablewidget->setHorizontalHeaderLabels(header);

    m_tablewidget->setItem(0,0,new QTableWidgetItem("Jan"));
    m_tablewidget->setItem(1,0,new QTableWidgetItem("Feb"));

    m_gridlay     = new QGridLayout(this);

    m_gridlay->addWidget(m_tablewidget,0,0,7,3);
    m_gridlay->addWidget(m_button_open,7,0,1,1);
    m_gridlay->addWidget(m_button_dl,7,1,1,1);

    QString dir = QFileDialog::getExistingDirectory(this
                                                    ,tr("Open Directory")
                                                    ,"/home"
                                                    ,QFileDialog::ShowDirsOnly
                                                    |QFileDialog::DontResolveSymlinks);
    QObject::connect(m_button_open,&QPushButton::clicked,this,&FolderShow::on_button_open);
    QObject::connect(m_button_dl,&QPushButton::clicked,this,&FolderShow::on_button_dl);
    
    qDebug()<<dir;
}

#endif // FOLDERSHOW_H

void FolderShow::on_button_dl()
{
    
}

void FolderShow::on_button_open()
{
    
}

FolderShow::~FolderShow()
{
    
}
